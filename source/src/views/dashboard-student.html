<!-- src/views/dashboard-student.html -->
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bảng điều khiển - EduSign</title>
    <link rel="stylesheet" href="/css/style.css">
    <!-- Tích hợp Font Awesome để có icon đẹp -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-layout">
        <!-- ===== SIDEBAR ===== -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h3><i class="fas fa-signature"></i> EduSign</h3>
            </div>
            <ul class="sidebar-menu">
                <li class="active"><a href="#"><i class="fas fa-tachometer-alt"></i> Tổng quan</a></li>
                <li><a href="#"><i class="fas fa-book-open"></i> Luận văn của tôi</a></li>
                <li><a href="#"><i class="fas fa-folder"></i> Tài liệu tham khảo</a></li>
                <li><a href="#"><i class="fas fa-comments"></i> Thảo luận</a></li>
                <li><a href="#"><i class="fas fa-user-circle"></i> Hồ sơ cá nhân</a></li>
            </ul>
            <div class="sidebar-footer">
                <button id="logoutButton"><i class="fas fa-sign-out-alt"></i> Đăng xuất</button>
            </div>
        </nav>

        <!-- ===== MAIN CONTENT ===== -->
        <main class="main-content">
            <!-- ===== HEADER ===== -->
            <header class="header">
                <div class="header-search">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Tìm kiếm luận văn, tài liệu...">
                </div>
                <div class="header-user">
                    <div class="user-info">
                        <span id="userFullName">Đang tải...</span>
                        <small id="userRole">Sinh viên</small>
                    </div>
                    <img src="/images/avatar.png" alt="User Avatar" class="user-avatar">
                </div>
            </header>

            <!-- ===== PAGE CONTENT ===== -->
            <div class="page-content">
                <!-- Welcome Banner with Video Background -->
                <section class="welcome-banner">
                    <video autoplay muted loop class="banner-video-bg">
                        <source src="/videos/background.mp4" type="video/mp4">
                    </video>
                    <div class="banner-overlay">
                        <h1 id="welcomeMessage">Chào mừng trở lại!</h1>
                        <p>Quản lý tiến độ luận văn của bạn một cách hiệu quả và an toàn.</p>
                    </div>
                </section>

                <!-- Thesis Management Section -->
                <section class="thesis-management">
                    <div class="section-header">
                        <h2><i class="fas fa-book-open"></i> Luận văn của tôi</h2>
                        <button class="btn btn-primary" id="openNewThesisModalBtn"><i class="fas fa-plus"></i> Đăng ký đề tài mới</button>
                    </div>
                    <div id="thesis-list-container" class="thesis-list">
                        <!-- Luận văn sẽ được chèn vào đây bởi JavaScript -->
                        <p>Đang tải danh sách luận văn...</p>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- ===== MODALS (Cửa sổ Pop-up) ===== -->

    <!-- Modal 1: Đăng ký đề tài luận văn mới -->
    <div id="newThesisModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeNewThesisModalBtn">&times;</span>
            <h2>Đăng ký đề tài mới</h2>
            <form id="newThesisForm">
                <div class="form-group">
                    <label for="thesisTitle">Tiêu đề luận văn</label>
                    <input type="text" id="thesisTitle" name="title" required>
                </div>
                <div class="form-group">
                    <label for="thesisDescription">Mô tả ngắn (Mục tiêu, nội dung chính)</label>
                    <textarea id="thesisDescription" name="description" rows="5" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Đăng ký</button>
            </form>
        </div>
    </div>

    <!-- Modal 2: Chi tiết luận văn & Nộp phiên bản mới -->
    <div id="thesisDetailsModal" class="modal">
        <div class="modal-content modal-lg">
            <span class="close-btn" id="closeDetailsModalBtn">&times;</span>
            <h2 id="detailsThesisTitle">Chi tiết luận văn</h2>
            <div class="thesis-details-grid">
                <!-- Cột thông tin -->
                <div class="thesis-info">
                    <h4>Thông tin chung</h4>
                    <p><strong>Trạng thái:</strong> <span id="detailsThesisStatus" class="status-badge"></span></p>
                    <p><strong>Mô tả:</strong> <span id="detailsThesisDescription"></span></p>
                    
                    <h4>Nộp phiên bản mới</h4>
                    <form id="submitVersionForm">
                        <input type="hidden" id="detailsThesisId" name="thesisId">
                        <div class="form-group">
                            <label for="versionName">Tên phiên bản (VD: Đề cương lần 1, Bản thảo...)</label>
                            <input type="text" id="versionName" name="versionName" required>
                        </div>
                        <div class="form-group">
                            <label for="thesisFile">Chọn File (Chỉ nhận PDF)</label>
                            <input type="file" id="thesisFile" name="thesisFile" accept=".pdf" required>
                        </div>
                        <button type="submit" class="btn btn-primary"><i class="fas fa-upload"></i> Nộp bài</button>
                    </form>
                </div>
                <!-- Cột lịch sử phiên bản -->
                <div class="thesis-versions">
                    <h4>Lịch sử nộp bài</h4>
                    <ul id="version-history-list">
                        <!-- Lịch sử sẽ được chèn vào đây -->
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/dashboard-student.js"></script>
</body>
</html>